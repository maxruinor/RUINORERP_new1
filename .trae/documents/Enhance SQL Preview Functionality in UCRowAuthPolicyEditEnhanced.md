# 修复和增强 UCRowAuthPolicyEditEnhanced 预览功能

## 当前问题
1. 部分规则编辑控件未触发预览更新
2. 预览文本框尺寸较小

## 修复计划

### 1. 确保所有规则编辑控件触发预览
检查并修复以下控件的事件处理：
- `cmbOperator.SelectedIndexChanged` - 添加事件处理，触发预览更新
- `txtFilterValue.TextChanged` - 添加事件处理，触发预览更新
- `btnGenerateFilterClause.Click` - 确保生成过滤条件后更新预览
- `CmbFilterField_SelectedIndexChanged` - 添加预览更新调用

### 2. 增大预览文本框尺寸
在设计器中调整 `txtPreview` 控件：
- 增加高度，提供更广阔的预览空间
- 调整位置，确保在界面中合理布局
- 确保文本框支持多行显示（已支持）
- 考虑设置 `DockStyle.Fill` 以充分利用可用空间

### 3. 优化预览更新机制
- 确认 500ms 延迟计时器工作正常
- 确保所有规则变更都能正确触发预览更新
- 验证 `UpdatePreview` 方法被所有相关事件调用

## 实施步骤

1. **检查现有事件处理**：审查所有规则编辑控件的事件绑定
2. **添加缺失的事件处理**：为未绑定的控件添加事件处理程序
3. **修改设计器文件**：增大 `txtPreview` 控件的尺寸
4. **测试预览更新**：验证所有规则编辑操作都能触发预览更新
5. **优化布局**：确保预览区域在界面中合理布局

## 预期效果
- 用户编辑任何规则组件时，预览都会及时更新
- 提供更大的预览区域，便于查看完整SQL语句
- 保持简单实现，不引入复杂功能
- 确保预览更新响应迅速，提高用户体验