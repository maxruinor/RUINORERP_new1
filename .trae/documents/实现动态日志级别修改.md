# 实现动态日志级别修改

## 问题分析
当前系统的日志级别是在应用启动时从配置文件读取的，无法在运行时动态修改。需要使用IOptionsMonitor来监听SystemGlobalConfig的变化，实现日志级别的动态调整。

## 解决方案
1. **创建动态日志级别存储**：在Startup类中添加静态字段用于存储当前日志级别
2. **使用IOptionsMonitor监听配置变化**：在ConfigureServices方法中注册IOptionsMonitor并监听SystemGlobalConfig的变化
3. **更新日志过滤规则**：修改日志过滤规则，从动态存储中获取日志级别
4. **确保配置热更新**：确保SystemGlobalConfig配置支持热更新

## 具体实现步骤
1. 在Startup类中添加静态字段`CurrentLogLevel`用于存储当前日志级别
2. 在ConfigureLogger方法中，将日志级别初始化为配置文件中的值
3. 在ConfigureServices方法中，注册IOptionsMonitor并添加OnChange回调
4. 在OnChange回调中，更新CurrentLogLevel的值
5. 修改日志过滤规则，使用CurrentLogLevel替代静态配置

## 代码修改点
- **RUINORERP.UI\Startup.cs**：
  - 添加静态字段`CurrentLogLevel`
  - 修改ConfigureLogger方法，初始化CurrentLogLevel
  - 修改日志过滤规则，使用CurrentLogLevel
  - 在ConfigureServices方法中添加IOptionsMonitor.OnChange回调

## 预期效果
- 当修改SystemGlobalConfig.json中的LogLevel配置时，系统日志级别会自动更新
- 无需重启应用即可调整日志级别
- 支持实时监控和调试系统运行状态