# RUINORERP 项目开发规范

## 日志使用规范

### 核心原则
- **谨慎使用信息式日志**：`_log.LogInformation()` 等信息级别的日志应谨慎使用，避免过多的冗余信息
- **日志分级**：
  - ERROR：仅用于记录影响系统运行的严重错误
  - WARNING：用于记录可能存在问题但不影响系统运行的警告
  - INFORMATION：仅记录关键业务流程节点和重要操作结果
  - DEBUG：用于开发调试，生产环境通常禁用
  - TRACE：详细的跟踪信息，仅在必要时使用
- **避免重复日志**：同一操作不记录多条类似日志
- **日志内容**：简洁明了，包含必要的上下文信息

## 代码注释规范

### 注释原则
- **简洁明了**：注释应简洁表达代码意图，避免冗长
- **必要性**：复杂逻辑、业务规则和非直观实现必须添加注释
- **注释格式**：使用标准的XML文档注释格式

### 必须添加注释的位置
- **文件级**：文件顶部简要说明文件用途和主要功能
- **类级**：类的职责、用途和主要功能
- **方法级**：方法的功能、参数说明、返回值和异常说明
- **重要变量**：特别是配置项、阈值等需要说明的变量

## 代码编写规范

### 代码简洁性
- **避免过度设计**：注重实用性和可维护性，避免不必要的抽象和复杂设计
- **减少冗余代码**：避免重复的验证、日志和异常处理
- **简化逻辑**：将复杂功能拆分为多个简洁的小函数

### 异常处理
- **集中处理**：同类异常在合适的层级统一处理
- **有意义的错误信息**：包含必要的上下文信息
- **异常转换**：适当转换低级异常为业务异常

## 性能优化

### 缓存使用
- **缓存策略**：合理设置缓存过期时间
- **缓存键设计**：避免过长或过于复杂的缓存键
- **缓存预热**：关键数据在系统启动时预热

### 其他优化
- **避免不必要的对象创建**：特别是在循环中
- **合理使用集合类型**：根据使用场景选择合适的集合
- **减少网络请求**：合并请求，使用批处理

## 代码审查重点

1. 日志使用是否符合规范，是否存在过多的冗余日志
2. 注释是否简洁明了，关键部分是否有必要的注释
3. 代码是否存在过度设计，逻辑是否清晰简洁
4. 异常处理是否合理，是否包含足够的上下文信息
5. 是否遵循项目的命名规范和代码风格